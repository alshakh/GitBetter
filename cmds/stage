

__run__() {

    gb -is-in-repo || return 1

    # TODO : control output

    if [[ "$#" == 0 ]] ; then
        git add -A
    else
        git add "$@"
    fi
}

__complete__() {
    (
        local rt=$(gb -get-root)
        gb -get-modified --names-only | sed "s@^@${rt}/@"
        gb -get-untracked | sed "s@^@${rt}/@"
    ) | while read p ; do
        realpath "$p" --relative-to=$(pwd)
    done
}
