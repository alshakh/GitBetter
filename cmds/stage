

__run__() {

    gb -is-in-repo || return 1

    # TODO : control output

    if [[ "$#" == 0 ]] ; then
        git add -A
    else
        git add "$@"
    fi
}

__complete__() {
    gb -is-in-repo || return 0

    local cur=$(sed 's/^\^//' <<< "${!#}")
    local posss="$(git status -s | grep '^\( \|??\)' | sed 's/^ *[A-Z?]\+[[:blank:]]\+//')"
    compgen -W "$posss" -- $cur
    return 0
}
