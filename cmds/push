
__run__() {
    gb -is-in-repo || return 1

    if [ "$1" == "!" ] ; then
        shift
        git push -f "$@"
    else
        git push "$@"
    fi
}

__complete__() {
    local cur=$(sed 's/^\^//' <<< "${!#}")
    if (( $# == 1 )) ; then
        compgen -W "$(gb -list-remotes)" -- "$cur"
    elif (( $# > 1 )) ; then
        compgen -W "$(gb -list-refs --no-relatives)" -- "$cur"
    fi
}

__usage__() {
    return 0
}
